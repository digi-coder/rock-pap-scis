<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>
<body>
    <script>
        function game(){
                let i = 0;
                let playerScore = 0;
                let computerScore = 0;
                do {
                    i += 1;
                    let playerSelection = prompt ("Pick: Rock, Paper or Scissors?");
                    if (playerSelection != null){
                        let playerSelectionL = playerSelection.toLowerCase();

                        if (playerSelectionL === "rock" || playerSelectionL === "paper" || playerSelectionL === "scissors"){
                            function computerPlay() {
                                let choices = ["rock", "paper", "scissors"];
                                let compSelection = Math.floor(Math.random() * choices.length);
                                return compChoice = choices[compSelection];
                            }
                            computerPlay();
                            function playRound(playerSelectionL, compChoice){
                                if (playerSelectionL === compChoice) {playerScore = ++playerScore; computerScore = ++computerScore;
                                    return `It\'s a tie! you both chose ${playerSelectionL}.`;
                                } else if (playerSelectionL === "rock" && compChoice === "paper") {computerScore = ++computerScore;
                                    return `You lose! ${compChoice} beats ${playerSelectionL}.`;
                                } else if (playerSelectionL === "rock" && compChoice === "scissors") {playerScore = ++playerScore;
                                    return `You Win! ${playerSelectionL} beats ${compChoice}.`;
                                } else if (playerSelectionL === "paper" && compChoice === "rock") {playerScore = ++playerScore;
                                    return `You Win! ${playerSelectionL} beats ${compChoice}.`;
                                } else if (playerSelectionL === "paper" && compChoice === "scissors") {computerScore = ++computerScore;
                                    return `You lose! ${compChoice} beats ${playerSelectionL}.`;
                                } else if (playerSelectionL === "scissors" && compChoice === "rock") {computerScore = ++computerScore;
                                    return `You lose! ${compChoice} beats ${playerSelectionL}.`;
                                } else if (playerSelectionL === "scissors" && compChoice === "paper") {playerScore = ++playerScore;
                                    return `You Win! ${playerSelectionL} beats ${compChoice}.`;
                                }
                            }
                            console.log(`Player chose: ${playerSelectionL}, Computer chose: ${compChoice}`);
                            console.log(playRound(playerSelectionL, compChoice));
                            console.log(`Player Score: ${playerScore}, Computer Score: ${computerScore}`);
                        } else {
                            console.log("Poop!");
                        }
                    } else {
                        console.log("Poop L!");
                    }
            } while (i < 5);
            if (playerScore === computerScore) {
                                console.log("Final Score: It's a tie!");
                            } else if (playerScore > computerScore) {
                                console.log("Final Score: You won!");
                            } else if (playerScore < computerScore) {
                                console.log("Final Score: You lost!");
                            }
        } 

        game();
    </script>
</body>
</html>